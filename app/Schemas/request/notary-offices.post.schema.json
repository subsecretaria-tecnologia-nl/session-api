{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "predial.v1.request.get.schema",
	"description": "Predial Schema of Request. Method GET.",
	"type": "object",
	"properties": {
		"notary_office" : {
			"description": "Cadastral Record (Expediente Catastral)",
			"type": "object",
			"properties" : {
				"notary_number" : {
					"type" : "string",
					"minLength": 1,
					"maxLength": 4
				},
				"phone" : {
					"type" : "string",
					"pattern" : "^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$"
				},
				"fax" : {
					"type" : "string",
					"pattern" : "^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$"
				},
				"email" : {
					"type" : "string",
					"format" : "email"
				},
				"street" : {
					"type" : "string",
					"minLength": 3,
					"maxLength": 25
				},
				"number" : {
					"type" : "string",
					"minLength": 3,
					"maxLength": 25
				},
				"outdoor-number" : {
					"type" : "string",
					"minLength": 1,
					"maxLength": 25
				},
				"district" : {
					"type" : "string",
					"minLength": 0,
					"maxLength": 25
				},
				"federal_entity_id" : {
					"type" : "string",
					"minLength": 0,
					"maxLength": 25
				},
				"city_id" : {
					"type" : "string",
					"minLength": 0,
					"maxLength": 25
				},
				"zip" : {
					"type" : "string",
					"pattern" : "^([0-8]{4,7})$"
				},
				"titular" : { "$ref" : "#/definitions/users" },
				"substitute" : { "$ref" : "#/definitions/users" },
				"users" : {
					"type" : "array",
					"items" : { "$ref" : "#/definitions/users" }
				},
				"sat_constancy_file" : {
					"type" : "string",
					"pattern" : "^data:application/pdf;base64,(.+)$",
					"minLength" : 34
				},
				"notary_constancy_file" : {
					"type" : "string",
					"pattern" : "^data:application/pdf;base64,(.+)$",
					"minLength" : 34
				}
			},
			"required" : [ "notary_number", "phone", "fax", "email", "street", "number", "zip", "titular", "sat_constancy_file", "notary_constancy_file" ]
		}
	},
	"required" : ["notary_office"],
	"definitions" : {
		"users" : {
			"type": "object",
			"properties": {
				"username" : {
					"type" : "string",
					"pattern" : "^(?=[a-zA-Z0-9._]{8,20}$)(?!.*[_.]{2})[^_.].*[^_.]$"
				},
				"email" : {
					"type" : "string",
					"format" : "email"
				},
				"password" : {
					"type" : "string",
					"pattern" : "^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$"
				},
				"role_id" : {
					"type" : "string"
				},
				"name" : {
					"type" : "string",
					"minLength": 1,
					"maxLength": 20
				},
				"mothers_surname" : {
					"type" : "string",
					"minLength": 1,
					"maxLength": 20
				},
				"fathers_surname" : {
					"type" : "string",
					"minLength": 1,
					"maxLength": 20
				},
				"curp" : {
					"type" : "string",
					"pattern" : "^(?i)([A-Z][AEIOUX][A-Z]{2}\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])[HM](?:AS|B[CS]|C[CLMSH]|D[FG]|G[TR]|HG|JC|M[CNS]|N[ETL]|OC|PL|Q[TR]|S[PLR]|T[CSL]|VZ|YN|ZS)[B-DF-HJ-NP-TV-Z]{3}[A-Z\\d])(\\d)$"
				},
				"rfc" : {
					"type" : "string",
					"pattern" : "^(?i)([A-ZÃ‘&]{3,4}) ?(?:- ?)?(\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])) ?(?:- ?)?([A-Z\\d]{2})([A\\d])$"
				},
				"phone" : {
					"type" : "string",
					"pattern" : "^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$"
				},
				"person_type" : {
					"type" : "string",
					"enum" : ["fisica", "moral"]
				}
			},
			"required" : [ "username", "email", "password", "name", "mothers_surname", "fathers_surname", "curp", "rfc", "phone", "person_type" ]
		}
	}
}